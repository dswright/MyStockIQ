<% @streams.each do |stream|
  icons = {}

  icons[:likes] = stream.streamable.likes.where(like_type:"like").count
  icons[:dislikes] = stream.streamable.likes.where(like_type:"dislike").count
  icons[:replies] = stream.streamable.replies.count

	%>
      <% if stream.streamable.class.name == "Comment" %>
          <%= render partial: "streams/stream_comment", locals: {stream: stream} %>

      <% elsif stream.streamable.class.name == "Prediction" %>
          <%= render partial: "streams/stream_prediction", locals: {stream: stream} %>
      <% end %>
      <% #elsif stream.streamable.class.name == "Newsarticle" %>
          <% #render partial: "streams/stream_newsarticle", locals: {newsarticle: stream.streamable} %>

      <% #elsif stream.streamable.class.name == "Predictionend" %>
      <% #render partial: "streams/stream_predictionend", locals: {predictionend: stream.streamable} %>
      
    </br>

    <% #unless stream.streamable.likes.where(user_id: current_user.id).exists? %>
        <% #render partial: "streams/stream_icons", locals: {icons: icons, stream: stream} %>
    <% #else %>
        <% #render partial: "likes/message", locals: {stream: stream} %>
    <% #end %>

      <% #render partial: "streams/stream_detail_button", locals: {stream: stream}  %>

<%end%>