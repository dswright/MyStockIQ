<% @streams.each do |stream|
  icons = {}

  icons[:likes] = stream.streamable.likes.where(like_type:"like").count
  icons[:dislikes] = stream.streamable.likes.where(like_type:"dislike").count
  icons[:replies] = stream.streamable.replies.count

  %>
   <div class = "prediction-post-comment" id="stream-<%= stream.streamable.class.name %>_<%= stream.streamable.id %>" style = "height: 200px;">
     <div class = "row" style = "margin-left: <%= nest_count * 20 %>px;">
      <% if stream.streamable.class.name == "Comment" %>
          <%= render partial: "streams/stream_comment", locals: {comment: stream.streamable} %>

      <% elsif stream.streamable.class.name == "Prediction" %>
          <%= render partial: "streams/stream_prediction", locals: {prediction: stream.streamable} %>

      <% elsif stream.streamable.class.name == "Newsarticle" %>
          <%= render partial: "streams/stream_newsarticle", locals: {newsarticle: stream.streamable} %>

      <% elsif stream.streamable.class.name == "Predictionend" %>
          <%= render partial: "streams/stream_predictionend", locals: {predictionend: stream.streamable} %>
      <%end%>

    </br>
      <%= render partial: "streams/stream_icons", locals: {icons: icons, stream: stream} %>

      <%= render partial: "streams/stream_detail_button", locals: {stream: stream}  %>
    </div>
  </div> 

<%end%>